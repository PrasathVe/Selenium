package pages;

import org.openqa.selenium.By;
import org.openqa.selenium.JavascriptExecutor;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;

public class MalwarePage extends BasePage {

	WebDriver driver;
	
	public MalwarePage(WebDriver driver) {
		this.driver = driver;
		 this.js = (JavascriptExecutor) this.driver;
		PageFactory.initElements(driver, this);
		
	}


	@FindBy(xpath = "//*[@id='allPageLength']/option[1]")
	WebElement MalTwentyfivePaginationValue;

	@FindBy(xpath = "//*[@id='allPageLength']/option[2]")
	WebElement MalFiftyPaginationValue;

	@FindBy(xpath = "//*[@id='allPageLength']/option[3]")
	WebElement MalHundredPaginationValue;

	@FindBy(xpath = "//*[@id='allPageLength']/option[4]")
	WebElement MalTwohundredPaginationValue;

	@FindBy(xpath = "//*[@id='allPageLength']/option[5]")
	WebElement MalFivehundredPaginationValue;

	@FindBy(xpath = "//div[@class='sub-tabs']/ul/li[9]")
	WebElement MalwareTab;

	@FindBy(xpath = "//*[@id='totalActiveMalware']/a")
	WebElement ActiveMalware;

	@FindBy(xpath = "//*[@id='totalInactiveMalware']/a")
	WebElement InActiveMalware;

	@FindBy(xpath = "//*[@id='malwareTable']/tbody/tr[1]/td[2]/span[1]")
	WebElement FirstMalwareFile;

	@FindBy(xpath = "//*[@class='fileFolderMessagePopup']/following-sibling::div[1]/button")
	WebElement MalwareCancelButton;

	@FindBy(xpath = "//*[@id='malwareTable']/tbody/tr[1]/td[4]/span[2]")
	WebElement ScanResultPopover;

	@FindBy(xpath = "//*[@id='malwareTable']/tbody/tr[1]/td[1]/input")
	WebElement FirstCheckBox;

	@FindBy(xpath = "//*[@title='Delete']")
	WebElement BulkDeleteButton;

	@FindBy(xpath = "//*[@title='Quarantine']")
	WebElement BulkQuarantineButton;

	@FindBy(xpath = "//*[@title='Ignore']")
	WebElement BulkIgnoreButton;
	
	@FindBy(xpath = "//*[@id='bulkAction']/following-sibling::button")
	WebElement BulkCancelButton;

	@FindBy(xpath = "//*[@title='Share Via Email']")
	WebElement MalBulkSVEButton;

	@FindBy(xpath = "//*[@id='triggerEmail']/following-sibling::button")
	WebElement MalBulkSVECloseButton;


	public void MalwareTabClick() throws InterruptedException {

		Thread.sleep(1000);
		MalwareTab.click();
	}

	public void ActiveMalwareSectionlinks() throws InterruptedException{
		Thread.sleep(1000);

		//Click on total active malware
		Thread.sleep(1500);

		String AMalwareXpath = "//*[@id='totalActiveMalware']/a";

		ValidateAPerformLinkandNolinkCase(AMalwareXpath, driver);
		Thread.sleep(1000);

		//Click on Suspicious and malicious blocks
		for(int i=0;i<=2;i++){
			String SandMXpath = "//*[@class='maliciousDLabel']/div["+i+"]/a";

			ValidateAPerformLinkandNolinkCase(SandMXpath, driver);

			Thread.sleep(1000);
		}
	}


	public void Inactivemalwareclicks()throws InterruptedException{

		Thread.sleep(1000);

		//Click on total Inactive malware
		Thread.sleep(1500);
		String IMalwareXpath = "//*[@id='totalInactiveMalware']/a";
		ValidateAPerformLinkandNolinkCase(IMalwareXpath, driver);

		Thread.sleep(1000);

		//Click on Quarantine and Removed
		for(int i=0;i<=2;i++){
			String QandRXpath = "//*[@class='removedDLabel']/div["+i+"]/a";
			ValidateAPerformLinkandNolinkCase(QandRXpath, driver);
			Thread.sleep(1000);
		} 
	}


	public void FilepopupClick() throws InterruptedException{

		Thread.sleep(1500);

		driver.get(driver.getCurrentUrl());

		Thread.sleep(1000);

		//Click the first file on the page
		FirstMalwareFile.click();

		Thread.sleep(1500);
		// Click on the cancel button
		MalwareCancelButton.click();

		Thread.sleep(1500);
	}
	
	public void ValidateScanresultclick() throws InterruptedException{

		Thread.sleep(1000);

		
		js.executeScript("window.scrollBy(0,800)");

		Thread.sleep(500);

		//Click on the scan result pop-over
		ScanResultPopover.click();

		Thread.sleep(1000);

		//Click on it again to close it
		ScanResultPopover.click();

		Thread.sleep(500);

		js.executeScript("window.scrollBy(0,-800)");

		Thread.sleep(500);
	}
	
	public void DeletebuttonClick() throws InterruptedException{

		Thread.sleep(1000);

		//Click on the check-box of the first file
		FirstCheckBox.click();

		Thread.sleep(1000);

		//Click on the Delete action
		BulkDeleteButton.click();

		Thread.sleep(1000);

		//Click on the cancel button
		BulkCancelButton.click();

		Thread.sleep(1000);

		driver.get(driver.getCurrentUrl());

		Thread.sleep(1500);
	}

	public void QuarantinebuttonClick() throws InterruptedException{

		Thread.sleep(1000);

		//Click on the check-box of the first file
		FirstCheckBox.click();

		Thread.sleep(1000);

		BulkQuarantineButton.click();

		Thread.sleep(1000);

		//Click on the cancel button
		BulkCancelButton.click();

		Thread.sleep(1000);

		driver.get(driver.getCurrentUrl());

		Thread.sleep(1500);
	}
	
	public void IgnorebuttonClick() throws InterruptedException{

		Thread.sleep(1000);

		//Click on the check-box of the first file
		FirstCheckBox.click();

		Thread.sleep(1000);

		//Click on the Ignore action
		BulkIgnoreButton.click();

		Thread.sleep(1000);

		//Click on the cancel button
		BulkCancelButton.click();

		Thread.sleep(1000);

		driver.get(driver.getCurrentUrl());

		Thread.sleep(1500);
	}
	
	public void SVEbuttonClick() throws InterruptedException{

		Thread.sleep(1000);

		//Click on the check-box of the first file
		FirstCheckBox.click();

		Thread.sleep(1000);

		//Click on the Share via Email action
		MalBulkSVEButton.click();

		Thread.sleep(1500);

		//Click on the cancelbutton
		MalBulkSVECloseButton.click();

		Thread.sleep(1000);

	
	}
}
